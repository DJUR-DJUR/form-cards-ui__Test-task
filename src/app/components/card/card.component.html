<mat-card class="d-flex flex-column justify-content-between h-100">
    <mat-card-content>
        <div class="d-flex justify-content-between align-items-center">
            <span>Country</span>

            <button
                mat-icon-button
                matTooltip="Remove form card"
                [matTooltipShowDelay]="HINT_SHOW_DELAY"
                [disabled]="form().disabled"
                (click)="remove.emit(index())"
            >
                <mat-icon>close</mat-icon>
            </button>
        </div>

        <mat-form-field
            appearance="outline"
            class="mb-1 w-100 position-relative"
            appValidationMessage
            [control]="countryControl()"
            [fieldName]="'Country'"
        >
            <input
                matInput
                [formControl]="countryControl()"
                type="text"
                [matAutocomplete]="auto"
            />
            <mat-autocomplete #auto="matAutocomplete">
                @for (country of filteredCountries(); track country) {
                    <mat-option [value]="country">
                        {{ country }}
                    </mat-option>
                }
            </mat-autocomplete>
        </mat-form-field>

        <div class="mb-1">Username</div>

        <mat-form-field
            appearance="outline"
            class="mb-1 w-100 position-relative"
            appValidationMessage
            [control]="usernameControl()"
            [fieldName]="'Username'"
        >
            <input
                matInput
                [formControl]="usernameControl()"
                type="text"
            />
        </mat-form-field>

        <div class="mb-1">Birthday</div>

        <mat-form-field
            appearance="outline"
            class="mb-1 w-100 position-relative"
            appValidationMessage
            [control]="birthdayControl()"
            [fieldName]="'Birthday'"
        >
            <input
                matInput
                [formControl]="birthdayControl()"
                [matDatepicker]="picker"
                [max]="MAX_BIRTH_DATE"
                [min]="MIN_BIRTH_DATE"
            />
            <mat-datepicker-toggle matSuffix [for]="picker"/>
            <mat-datepicker #picker/>
        </mat-form-field>
    </mat-card-content>
</mat-card>

